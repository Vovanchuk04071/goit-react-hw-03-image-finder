{"version":3,"sources":["Component/ImageGalleryItem/ImageGalleryItem.module.css","Component/Modal/Modal.module.css","Component/ImageGallery/ImageGallery.module.css","styles.module.css","Component/Button/Button.module.css","Component/Loader/Loader.module.css","Component/Searchbar/Searchbar.js","Component/ImageGallery/ImageGallery.js","Component/ImageGalleryItem/ImageGalleryItem.js","Component/Button/Button.js","Component/Services/images-api.js","Component/Loader/Loader.js","Component/Modal/Modal.js","App.js","index.js","Component/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","heandleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","style","SearchForm","this","type","SearchForm__button","SearchForm__button__label","SearchForm__input","autoComplete","autoFocus","onChange","placeholder","Component","ImageGallery","children","ImageGalleryItem","items","onClick","map","id","webformatURL","tags","largeImageURL","src","alt","ImageGalleryItem__image","Button","searchQuery","currentPage","perPage","axios","get","then","data","hits","App","Loader","color","height","width","React","modalRoot","document","querySelector","Modal","handleKeydown","event","code","onClose","handleBackDropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","imgSrc","images","isLoading","error","showModal","toggleModal","onChangeQuery","imagesSchrool","scrollTo","top","documentElement","scrollHeight","behavior","fetchClickImages","fetchImages","options","ImageApi","prevState","catch","finally","prevProps","shouldRenderLoadMoreButton","length","styles","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.455350d0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2u4ce\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__1zkYR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__gVfKb\",\"Modal\":\"Modal_Modal__3zrhh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1KRaZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"styles_App__1QDQB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2F6Mm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__15elm\"};","import React, { Component } from \"react\";\nimport style from \"./Searchbar.module.css\";\nimport PropTypes from \"prop-types\";\n\nclass Searchbar extends Component {\n  state = { query: \" \" };\n\n  heandleChange = (e) => {\n    this.setState({ query: e.currentTarget.value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n\n    this.setState({ query: \"\" });\n  };\n  render() {\n    return (\n      <header className={style.Searchbar}>\n        <form className={style.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={style.SearchForm__button}>\n            <span className={style.SearchForm__button__label}>Search</span>\n          </button>\n\n          <input\n            className={style.SearchForm__input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            value={this.state.query}\n            onChange={this.heandleChange}\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import React from \"react\";\nimport style from \"./ImageGallery.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGallery = ({ children }) => (\n  <ul className={style.ImageGallery}>{children}</ul>\n);\n\nImageGallery.propTypes = {\n  children: PropTypes.element.isRequired,\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport style from \"./ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({ items, onClick }) =>\n  items.map(({ id, webformatURL, tags, largeImageURL }) => {\n    return (\n      <li\n        key={id}\n        className={style.ImageGalleryItem}\n        onClick={onClick(largeImageURL)}\n      >\n        <img\n          src={webformatURL}\n          alt={tags}\n          className={style.ImageGalleryItem__image}\n        />\n      </li>\n    );\n  });\n\nImageGalleryItem.propTypes = {\n  items: PropTypes.array.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport style from \"./Button.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst Button = ({ onClick }) => (\n  <button onClick={onClick} className={style.Button} type=\"button\">\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import axios from \"axios\";\n\nconst apiKey = \"19801401-97891ad1de0f373c60ecdf3d3\";\n\nconst fetchImages = ({\n  searchQuery = \"all\",\n  currentPage = 1,\n  perPage = 12,\n}) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?key=${apiKey}&q=${searchQuery}&page=${currentPage}&per_page=${perPage}&orientation=horizontal`\n    )\n    .then(({ data }) => data.hits);\n};\n\nexport default { fetchImages };\n","import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport React from \"react\";\nimport style from \"./Loader.module.css\";\n\nexport default class App extends React.Component {\n  //other logic\n  render() {\n    return (\n      <Loader\n        className={style.Loader}\n        type=\"ThreeDots\"\n        color=\"#00BFFF\"\n        height={80}\n        width={80}\n      />\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport style from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeydown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeydown);\n  }\n  handleKeydown = (event) => {\n    if (event.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n  handleBackDropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n  render() {\n    return createPortal(\n      <div className={style.Overlay} onClick={this.handleBackDropClick}>\n        <div className={style.Modal}>\n          <img src={this.props.imgSrc} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Searchbar from \"./Component/Searchbar\";\nimport ImageGallery from \"./Component/ImageGallery\";\nimport ImageGalleryItem from \"./Component/ImageGalleryItem\";\nimport styles from \"./styles.module.css\";\nimport Button from \"./Component/Button\";\nimport ImageApi from \"./Component/Services/images-api\";\nimport Loader from \"./Component/Loader\";\nimport Modal from \"./Component/Modal\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: \"\",\n    isLoading: false,\n    error: null,\n    showModal: false,\n    largeImageURL: \"\",\n  };\n\n  componentDidMount() {\n    this.fetchImages();\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  onChangeQuery = (query) => {\n    this.setState({\n      searchQuery: query,\n      images: [],\n      currentPage: 1,\n      error: null,\n    });\n  };\n\n  imagesSchrool = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  fetchClickImages = (largeImageURL) => () => {\n    this.setState({ largeImageURL });\n    this.toggleModal();\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    ImageApi.fetchImages(options)\n      .then((hits) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n        this.imagesSchrool();\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() =>\n        this.setState({\n          isLoading: false,\n        })\n      );\n  };\n\n  render() {\n    const { images, isLoading, error, showModal, largeImageURL } = this.state;\n    const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\n    return (\n      <div className={styles.App}>\n        {error && <h1>Повторіть пошук</h1>}\n\n        {showModal && (\n          <Modal imgSrc={largeImageURL} onClose={this.toggleModal} />\n        )}\n\n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ImageGallery items={images}>\n          <ImageGalleryItem items={images} onClick={this.fetchClickImages} />\n        </ImageGallery>\n        {shouldRenderLoadMoreButton && <Button onClick={this.fetchImages} />}\n        {isLoading && <Loader />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2rkkr\",\"SearchForm\":\"Searchbar_SearchForm__2q4Lq\",\"SearchForm__button\":\"Searchbar_SearchForm__button__YevRa\",\"SearchForm__button__label\":\"Searchbar_SearchForm__button__label__CwxBL\",\"SearchForm__input\":\"Searchbar_SearchForm__input__2xOZR\"};"],"sourceRoot":""}